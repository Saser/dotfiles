#!/bin/bash

# Load all general login configuration.
source "$HOME/.login/login"

# Source an `.xsessionrc`, if it exists.
XSESSIONRC="$HOME/.xsessionrc"
if [[ -e "$XSESSIONRC" ]]; then
    source "$HOME/.xsessionrc"
fi

# Source a screenlayout, created by `arandr`.
source "$HOME/.screenlayout/layout.sh"

# Load general Xresources settings.
xrdb -merge "${HOME}/.Xresources"

# Load Xresources colorscheme. Affects e.g. polybar colors.
scheme_name="$BASE16_THEME"
if [[ "$BASE16_256" = "true" ]]; then
    scheme_name="${scheme_name}-256"
fi
xrdb -merge "${HOME}/.xcolors/base16/xresources/base16-${scheme_name}.Xresources"

# Sets the background image.
WALLPAPER="milky-way.jpg"
feh --bg-fill --no-fehbg "${HOME}/.wallpapers/${WALLPAPER}"

# Make sure the ~/.logs folder exists, so that we can log sxhkd command output to it.
LOGS_DIR="${HOME}/.logs"
if [ ! -e "${LOGS_DIR}" ]; then
    mkdir -p "${LOGS_DIR}/.logs"
fi
sxhkd -r "${LOGS_DIR}/sxhkd.log" &
